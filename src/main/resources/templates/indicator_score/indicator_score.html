<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <!--/*/ <th:block th:include="common :: head"></th:block> /*/-->
    <style type="text/css">
        .outer {
            width: 600px;
            height: 200px;
            margin: 0 auto;
        }

        .outer .chart-container {
            width: 300px;
            float: left;
            height: 200px;
        }

        .highcharts-yaxis-grid .highcharts-grid-line {
            display: none;
        }

        @media (max-width: 600px) {
            .outer {
                width: 100%;
                height: 400px;
            }

            .outer .chart-container {
                width: 300px;
                float: none;
                margin: 0 auto;
            }

        }
    </style>
</head>

<body class="kt-page--fluid kt-header--fixed kt-header--minimize-menu kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent">

<div th:replace="common :: header"></div>

<div class="kt-grid kt-grid--hor kt-grid--root">
    <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">
        <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">
            <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch">
                <div class="kt-container kt-body  kt-grid kt-grid--ver" id="kt_body">
                    <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor">

                        <!-- begin:: Subheader -->
                        <div class="kt-subheader   kt-grid__item" id="kt_subheader" style="padding: 10px 0 !important;">
                            <div class="kt-subheader__main">
                                <span class="kt-subheader__separator kt-hidden"></span>
                                <div class="kt-subheader__breadcrumbs">
                                    <a class="kt-subheader__breadcrumbs-home" th:href="@{/}"><i
                                            class="flaticon2-shelter"></i></a>
                                    <span class="kt-subheader__breadcrumbs-separator"></span>
                                    <!--<a href="" class="kt-subheader__breadcrumbs-link">
                                        Cuenta </a>-->

                                    <span class="kt-subheader__breadcrumbs-link kt-subheader__breadcrumbs-link--active">Indicador Risk Score</span>
                                </div>
                            </div>
                        </div>
                        <!-- end:: Subheader -->

                        <!--Begin::  Content-->
                        <div class="kt-content kt-grid__item kt-grid__item--fluid" id="kt_content"
                             style="margin-bottom: 50px;">
                            <div class="row">
                                <div class="col-xl-12">
                                    <div class="kt-portlet">
                                        <div class="kt-portlet__head">
                                            <div class="kt-portlet__head-label">
                                                <h3 class="kt-portlet__head-title">Risk Score
                                                    <small>Indicador Risk Score para tu propia empresa</small>
                                                </h3>
                                            </div>
                                            <div class="kt-portlet__head-toolbar" th:if="${dataintegration != null}">
                                                <ul class="nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-brand nav-tabs-line-info"
                                                    role="tablist">
                                                    <li class="nav-item">
                                                        <a class="nav-link active"
                                                           role="tab" th:href="@{/indicators/score/setting}"
                                                           style="font-weight: 900 !important;" ;>
                                                            <i class="flaticon2-gear"></i>
                                                            Nueva configuración
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <form class="kt-form kt-form--label-right">
                                            <div class="kt-portlet__body">
                                                <div class="kt-section" style="margin: 0 0 0 0;">
                                                    <div class="kt-section__body">
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <h3 class="kt-portlet__head-title">Risk Score</small>
                                                                </h3>
                                                            </div>
                                                        </div>
                                                        <div class="row"
                                                             th:if="${dataintegration != null and score != null}">
                                                            <div class="col-lg-12">
                                                                <form class="kt-form" id="kt_form"
                                                                      novalidate="novalidate">
                                                                    <!--begin: Form Wizard Step 3-->
                                                                    <div class="kt-wizard-v3__content">
                                                                        <div class="kt-heading kt-heading--md">Resumen
                                                                            de los detalles y
                                                                            guardar
                                                                        </div>
                                                                        <div class="kt-form__section kt-form__section--first">
                                                                            <div class="kt-wizard-v3__review">
                                                                                <div class="kt-wizard-v3__review-item">
                                                                                    <div class="kt-wizard-v3__review-title">
                                                                                        Titulo a mostrar en el gráfico
                                                                                        de Risk Score
                                                                                    </div>
                                                                                    <div class="kt-wizard-v3__review-content">
                                                                                        <label id="content_titule"
                                                                                               class="text-info" th:text="asasasas"></label>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="kt-wizard-v3__review-item">
                                                                                    <div class="kt-wizard-v3__review-title">
                                                                                        Variable con el valor para el
                                                                                        indicador
                                                                                    </div>
                                                                                    <div class="kt-wizard-v3__review-content">
                                                                                        <label id="content_variable"
                                                                                               class="text-info" th:text="xxxxxxxxXXXXXXXX"></label>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="kt-wizard-v3__review-item">
                                                                                    <div class="kt-wizard-v3__review-title"
                                                                                         style="margin-bottom: 15px;">
                                                                                        Detalles de los rangos de Risk
                                                                                        Score
                                                                                    </div>
                                                                                    <div class="kt-wizard-v3__review-content"
                                                                                         id="content_ranges">
                                                                                        <div class="form-group row">
                                                                                            <label class="col-xl-3 col-lg-3 col-form-label">Rango:</label><label
                                                                                                class="col-xl-3 col-lg-3 col-form-label text-info"><strong>1
                                                                                            a 21</strong></label><label
                                                                                                class="col-xl-3 col-lg-3 col-form-label">Color:</label>
                                                                                            <div class="col-lg-3 col-xl-3">
                                                                                                <input class="form-control"
                                                                                                       disabled=""
                                                                                                       type="color"
                                                                                                       value="#b8b9c4">
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="form-group row">
                                                                                            <label class="col-xl-3 col-lg-3 col-form-label">Rango:</label><label
                                                                                                class="col-xl-3 col-lg-3 col-form-label text-info"><strong>22
                                                                                            a 23</strong></label><label
                                                                                                class="col-xl-3 col-lg-3 col-form-label">Color:</label>
                                                                                            <div class="col-lg-3 col-xl-3">
                                                                                                <input class="form-control"
                                                                                                       disabled=""
                                                                                                       type="color"
                                                                                                       value="#b8b9c4">
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="kt-wizard-v3__review-item">
                                                                                    <div class="kt-wizard-v3__review-title">
                                                                                        Vista previa del gráfico del
                                                                                        indicador
                                                                                    </div>
                                                                                    <div class="kt-wizard-v3__review-content">
                                                                                        <div class="outer">
                                                                                            <div class="chart-container"
                                                                                                 id="container-graphic_score">
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                </form>

                                                            </div>
                                                        </div>
                                                        <div class="row"
                                                             th:if="${dataintegration != null and score == null}">
                                                            <div class="col-12 alert alert-warning" role="alert"
                                                                 style="margin-top: 30px">
                                                                <label>
                                                                    <strong style="margin-right: 8px;">Cuidado!</strong>
                                                                    Actualmente no está configurado el <strong>indicador
                                                                    Risk Score</strong>. Por favor dirigase a
                                                                    Indicadores > Risk Score >
                                                                    <strong>
                                                                        <a style="color: #ffffff;"
                                                                           th:href="@{/indicators/score/setting}">Nueva
                                                                            configuración</a>
                                                                    </strong>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="row" th:if="${dataintegration == null}">
                                                            <div class="col-12 alert alert-danger" role="alert"
                                                                 style="margin-top: 30px">
                                                                <label>
                                                                    <strong style="margin-right: 8px;">Problemas!</strong>
                                                                    Actualmente no está configurado <strong>Data
                                                                    Integration</strong>. Por favor dirigase a
                                                                    Data Integration >
                                                                    <strong>
                                                                        <a style="color: #ffffff;"
                                                                           th:href="@{/dataintegration/setting}">Nueva
                                                                            configuración</a>
                                                                    </strong>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--End::  Content-->
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>

<div th:replace="common :: footer"></div>
<!--/*/ <th:block th:include="common :: scripts"></th:block> /*/-->
<script th:src="@{/vendors/custom/highcharts/highcharts.js}" type="text/javascript"></script>
<script th:src="@{/vendors/custom/highcharts/highcharts-more.js}" type="text/javascript"></script>
<script th:src="@{/vendors/custom/highcharts/modules/solid-gauge.js}" type="text/javascript"></script>
<!--<script th:src="@{/js/indicator_score-setting.js}" type="text/javascript"></script>-->


<script type="text/javascript">
    var gaugeOptions = {

        chart: {
            type: 'solidgauge'
        },

        title: null,

        pane: {
            center: ['50%', '85%'],
            size: '140%',
            startAngle: -90,
            endAngle: 90,
            background: {
                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
                innerRadius: '60%',
                outerRadius: '100%',
                shape: 'arc'
            }
        },

        tooltip: {
            enabled: false
        },

        // the value axis
        yAxis: {
            stops: [
                [0.1, '#DF5353'],
                [0.5, '#DDDF0D'],
                [0.9, '#55BF3B']
            ],
            lineWidth: 0,
            minorTickInterval: null,
            tickAmount: 2,
            title: {
                y: -70
            },
            labels: {
                y: 16
            }
        },

        plotOptions: {
            solidgauge: {
                dataLabels: {
                    y: 5,
                    borderWidth: 0,
                    useHTML: true
                }
            }
        }
    };

    // The speed gauge
    var chartSpeed = Highcharts.chart('container-graphic_score', Highcharts.merge(gaugeOptions, {
        yAxis: {
            min: 0,
            max: 100,
            title: {
                text: 'Score'
            }
        },

        credits: {
            enabled: false
        },

        series: [{
            name: 'Score',
            data: [80],
            dataLabels: {
                format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                    ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '">{y}</span><br/>' +
                    '<span style="font-size:12px;color:silver"></span></div>'
            },
            tooltip: {
                valueSuffix: ''
            }
        }]

    }));

    // Bring life to the dials
    setInterval(function () {
        // Speed
        var point,
            newVal,
            inc;

        if (chartSpeed) {
            point = chartSpeed.series[0].points[0];
            inc = Math.round((Math.random() - 0.5) * 100);
            newVal = point.y + inc;

            if (newVal < 0 || newVal > 100) {
                newVal = point.y - inc;
            }

            point.update(newVal);
        }
    }, 2000);

</script>
</body>
</html>