<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <!--/*/ <th:block th:include="common :: head"></th:block> /*/-->
    <link rel="stylesheet" th:href="@{/css/wizard/wizard.css}" type="text/css"/>

    <style>
        @media (max-width: 749px) {
            .btn-deleted-repeater {
                width: 100% !important;
                margin-bottom: 40px !important;
            }
        }

        @media (min-width: 750px) and (max-width: 1024px) {
            .btn-deleted-repeater {
                height: 280px !important;
            }
        }

        @media (min-width: 1024px) {
            .btn-deleted-repeater {
                height: 130px !important;
            }
        }
    </style>
</head>

<body class="kt-page--fluid kt-header--fixed kt-header--minimize-menu kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent">

<div th:replace="common :: header"></div>

<div class="kt-grid kt-grid--hor kt-grid--root">
    <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">
        <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">
            <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-grid--stretch">
                <div class="kt-container kt-body  kt-grid kt-grid--ver" id="kt_body">
                    <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor">

                        <!-- begin:: Subheader -->
                        <div class="kt-subheader   kt-grid__item" id="kt_subheader" style="padding: 10px 0 !important;">
                            <div class="kt-subheader__main">
                                <span class="kt-subheader__separator kt-hidden"></span>
                                <div class="kt-subheader__breadcrumbs">
                                    <a class="kt-subheader__breadcrumbs-home" th:href="@{/}"><i
                                            class="flaticon2-shelter"></i></a>
                                    <span class="kt-subheader__breadcrumbs-separator"></span>
                                    <!--<a href="" class="kt-subheader__breadcrumbs-link">
                                        Cuenta </a>-->

                                    <span class="kt-subheader__breadcrumbs-link kt-subheader__breadcrumbs-link--active">Data Integration</span>
                                </div>
                            </div>
                        </div>
                        <!-- end:: Subheader -->

                        <!--Begin::  Content-->
                        <div class="kt-content kt-grid__item kt-grid__item--fluid" id="kt_content"
                             style="margin-bottom: 50px;">
                            <input hidden id="organization" th:value="${id_organization}">
                            <div class="row" id="first_dataintegration">
                                <div class="col-lg-12">
                                    <!--begin::Portlet-->
                                    <div class="kt-portlet">
                                        <div class="kt-portlet__head">
                                            <div class="kt-portlet__head-label">
                                                <h3 class="kt-portlet__head-title">
                                                    Data Integration
                                                </h3>
                                            </div>
                                        </div>
                                        <!--begin::Form-->
                                        <form class="kt-form">
                                            <div class="kt-portlet__body">
                                                <div class="form-group form-group-marginless">
                                                    <label>Seleccione la forma de inyección de información:</label>
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <label class="kt-option">
                                                                <span class="kt-option__control">
                                                                    <span class="kt-radio kt-radio--bold kt-radio--brand kt-radio--check-bold">
                                                                        <input checked="checked"
                                                                               name="option_type_dataintegration"
                                                                               type="radio" value="0">
                                                                        <span></span>
                                                                    </span>
                                                                </span>
                                                                <span class="kt-option__label">
                                                                    <span class="kt-option__head">
                                                                        <span class="kt-option__title">Data Integration Excel</span>
                                                                    </span>
                                                                    <span class="kt-option__body">Al momento de realizar el análisis de riesgo financiero deberá ingresar un archivo excel con información necesaria.</span>
                                                                </span>
                                                                <span class="kt-option__control" style="width: 50px;">
                                                                    <i class="flaticon2-sheet"
                                                                       style="font-size: 35px;padding: 15px;"></i>
                                                                </span>
                                                            </label>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="kt-option">
                                                                <span class="kt-option__control">
                                                                    <span class="kt-radio kt-radio--bold kt-radio--brand kt-radio--check-bold">
                                                                        <input name="option_type_dataintegration"
                                                                               type="radio"
                                                                               value="1">
                                                                        <span></span>
                                                                    </span>
                                                                </span>
                                                                <span class="kt-option__label">
                                                                    <span class="kt-option__head">
                                                                        <span class="kt-option__title">Data Integration Bureau</span>
                                                                    </span>
                                                                    <span class="kt-option__body">Al momento de realizar el análisis de riesgo financiero se consumirá el servicio bureau para inyectar la información necesaria para este proceso.</span>
                                                                </span>
                                                                <span class="kt-option__control" style="width: 50px;">
                                                                    <i class="flaticon2-rocket-1"
                                                                       style="font-size: 35px;padding: 15px;"></i>
                                                                </span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="kt-portlet__foot">
                                                <div class="kt-form__actions">
                                                    <button class="btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" id="btn-type-dataintegration"
                                                            type="reset">
                                                        Siguiente
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                        <!--end::Form-->
                                    </div>
                                    <!--end::Portlet-->
                                </div>
                            </div>
                            <div class="row" hidden="true" id="row_wizard_excel">
                                <div class="kt-portlet">
                                    <div class="kt-portlet__body kt-portlet__body--fit">
                                        <div class="kt-grid kt-wizard-v3 kt-wizard-v3--white"
                                             data-ktwizard-state="first"
                                             id="wizard_excel">
                                            <div id="conf_dataintegration_excel">
                                                <div class="kt-grid__item">

                                                    <!--begin: Form Wizard Nav -->
                                                    <div class="kt-wizard-v3__nav">
                                                        <div class="kt-wizard-v3__nav-items">
                                                            <span class="kt-wizard-v3__nav-item"
                                                                  data-ktwizard-state="current"
                                                                  data-ktwizard-type="step"
                                                                  href="#"
                                                                  style="flex: 0 0 33.3%;">
                                                                <div class="kt-wizard-v3__nav-body">
                                                                    <div class="kt-wizard-v3__nav-label">
                                                                        <span>1</span> Archivo de plantilla
                                                                    </div>
                                                                    <div class="kt-wizard-v3__nav-bar"></div>
                                                                </div>
                                                            </span>
                                                            <span class="kt-wizard-v3__nav-item"
                                                                  data-ktwizard-state="pending"
                                                                  data-ktwizard-type="step"
                                                                  href="#"
                                                                  style="flex: 0 0 33.3%;">
                                                                <div class="kt-wizard-v3__nav-body">
                                                                    <div class="kt-wizard-v3__nav-label">
                                                                        <span>2</span> Variables para indicadores
                                                                    </div>
                                                                    <div class="kt-wizard-v3__nav-bar"></div>
                                                                </div>
                                                            </span>
                                                            <span class="kt-wizard-v3__nav-item"
                                                                  data-ktwizard-state="pending"
                                                                  data-ktwizard-type="step"
                                                                  href="#"
                                                                  style="flex: 0 0 33.3%;">
                                                                <div class="kt-wizard-v3__nav-body">
                                                                    <div class="kt-wizard-v3__nav-label">
                                                                        <span>3</span> Resumen y guardar
                                                                    </div>
                                                                    <div class="kt-wizard-v3__nav-bar"></div>
                                                                </div>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <!--end: Form Wizard Nav -->
                                                </div>
                                                <div class="kt-grid__item kt-grid__item--fluid kt-wizard-v3__wrapper">

                                                    <!--begin: Form Wizard Form-->
                                                    <form class="kt-form" id="kt_form_excel" novalidate="novalidate">

                                                        <!--begin: Form Wizard Step 1-->
                                                        <div class="kt-wizard-v3__content"
                                                             data-ktwizard-state="current"
                                                             data-ktwizard-type="step-content">
                                                            <div class="kt-heading kt-heading--md">Por favor ingrese
                                                                archivo
                                                                a subir al momento del análisis:
                                                            </div>
                                                            <div class="kt-form__section kt-form__section--first">
                                                                <div class="kt-wizard-v3__form">
                                                                    <div class="row">
                                                                        <div class="col-xl-12">
                                                                            <div class="form-group row">
                                                                                <label class="col-md-12 col-lg-6 col-form-label">Sube
                                                                                    un archivo de ejemplo del archivo
                                                                                    excel:</label>
                                                                                <div class="custom-file col-md-12 col-lg-6">
                                                                                    <input class="custom-file-input"
                                                                                           id="file_dataintegration"
                                                                                           name="file_dataintegration"
                                                                                           type="file">
                                                                                    <label class="custom-file-label">Ningún
                                                                                        archivo seleccionado</label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!--end: Form Wizard Step 1-->

                                                        <!--begin: Form Wizard Step 2-->
                                                        <div class="kt-wizard-v3__content"
                                                             data-ktwizard-type="step-content">
                                                            <div class="kt-heading kt-heading--md">Ingrese los detalles
                                                                de
                                                                las variables a ocupar en los indicadores Risk Score,
                                                                Risk
                                                                Ratios y Business Tree
                                                            </div>
                                                            <div class="kt-form__section kt-form__section--first">
                                                                <div class="kt-wizard-v3__form">
                                                                    <div id="kt_repeater_1">
                                                                        <div class="form-group form-group-last row">
                                                                            <div class="col-lg-12"
                                                                                 data-repeater-list="">
                                                                                <div class="form-group row align-items-center"
                                                                                     data-repeater-item>
                                                                                    <div class="col-md-10">
                                                                                        <div class="row">
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Nombre de la
                                                                                                    variable</label>
                                                                                                <input class="form-control"
                                                                                                       name="[0][name_variable]"
                                                                                                       placeholder="Nombre a mostrar"
                                                                                                       type="text">
                                                                                            </div>
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Tipo de
                                                                                                    variable:</label>
                                                                                                <select class="form-control custom-select"
                                                                                                        name="[0][type_variable]">
                                                                                                    <option th:each="type : ${types_variables}"
                                                                                                            th:text="${type.name}"
                                                                                                            th:value="${type.code}" th:selected="${type.code=='NE'}" onchange="onChangeType();">
                                                                                                    </option>
                                                                                                </select>
                                                                                            </div>
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Coordenadas
                                                                                                    para extraer
                                                                                                    valor</label>
                                                                                                <input class="form-control"
                                                                                                       name="[0][coordenate_variable]"
                                                                                                       placeholder="Coordenadas de la celda"
                                                                                                       onkeyup="$(this).val($(this).val().toUpperCase());"
                                                                                                       type="text">
                                                                                            </div>
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Valor por
                                                                                                    defecto para la
                                                                                                    variable</label>
                                                                                                <input class="form-control"
                                                                                                       name="[0][default_variable]"
                                                                                                       placeholder="Valor por defecto"
                                                                                                       type="number">
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-2">
                                                                                        <a class="btn btn-danger btn-icon btn-deleted-repeater"
                                                                                           data-repeater-delete=""
                                                                                           hidden
                                                                                           href="javascript:;">
                                                                                            <i class="flaticon2-trash"></i>
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="form-group row align-items-center"
                                                                                     data-repeater-item>
                                                                                    <div class="col-md-10">
                                                                                        <div class="row">
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Nombre de la
                                                                                                    variable</label>
                                                                                                <input class="form-control"
                                                                                                       name="[1][name_variable]"
                                                                                                       placeholder="Nombre a mostrar"
                                                                                                       type="text">
                                                                                            </div>
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Tipo de
                                                                                                    variable:</label>
                                                                                                <select class="form-control custom-select"
                                                                                                        name="[1][type_variable]">
                                                                                                    <option th:each="type : ${types_variables}"
                                                                                                            th:text="${type.name}"
                                                                                                            th:value="${type.code}" th:selected="${type.code=='NE'}" onchange="onChangeType();">
                                                                                                    </option>
                                                                                                </select>
                                                                                            </div>
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Coordenadas
                                                                                                    para extraer
                                                                                                    valor</label>
                                                                                                <input class="form-control"
                                                                                                       name="[1][coordenate_variable]"
                                                                                                       placeholder="Coordenadas de la celda"
                                                                                                       onkeyup="$(this).val($(this).val().toUpperCase());"
                                                                                                       type="text">
                                                                                            </div>
                                                                                            <div class="form-group col-md-12 col-lg-6">
                                                                                                <label>Valor por
                                                                                                    defecto para la
                                                                                                    variable</label>
                                                                                                <input class="form-control"
                                                                                                       name="[1][default_variable]"
                                                                                                       placeholder="Valor por defecto"
                                                                                                       type="number">
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="col-md-2">
                                                                                        <a class="btn btn-danger btn-icon btn-deleted-repeater"
                                                                                           data-repeater-delete=""
                                                                                           hidden
                                                                                           href="javascript:;">
                                                                                            <i class="flaticon2-trash"></i>
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group form-group-last row">
                                                                            <div class="col-lg-12">
                                                                                <a class="btn btn-bold btn-sm btn-label-brand col-12"
                                                                                   data-repeater-create=""
                                                                                   href="javascript:;">
                                                                                    <i class="flaticon2-add-1"></i>
                                                                                    Agregar
                                                                                    nueva variable
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!--end: Form Wizard Step 2-->

                                                        <!--begin: Form Wizard Step 3-->
                                                        <div class="kt-wizard-v3__content"
                                                             data-ktwizard-type="step-content">
                                                            <div class="kt-heading kt-heading--md">Resumen de los
                                                                detalles y
                                                                guardar
                                                            </div>
                                                            <div class="kt-form__section kt-form__section--first">
                                                                <div class="kt-wizard-v3__review">
                                                                    <div class="kt-wizard-v3__review-item">
                                                                        <div class="kt-wizard-v3__review-title">
                                                                            Archivo a subir al momento del análisis
                                                                        </div>
                                                                        <div class="kt-wizard-v3__review-content">
                                                                            <label id="content_file_name"></label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="kt-wizard-v3__review-item">
                                                                        <div class="kt-wizard-v3__review-title">
                                                                            Detalles de las variables configuradas
                                                                        </div>
                                                                        <div class="kt-wizard-v3__review-content"
                                                                             id="content_details_variables">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!--end: Form Wizard Step 3-->

                                                        <!--begin: Form Actions -->
                                                        <div class="kt-form__actions">
                                                            <div class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u back-dataintegration">
                                                                Atrás
                                                            </div>
                                                            <div class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                                                                 data-ktwizard-type="action-prev">
                                                                Atrás
                                                            </div>
                                                            <div class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                                                                 data-ktwizard-type="action-submit">
                                                                Guardar
                                                            </div>
                                                            <div class="btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                                                                 data-ktwizard-type="action-next">
                                                                Siguiente
                                                            </div>
                                                        </div>

                                                        <!--end: Form Actions -->
                                                    </form>

                                                    <!--end: Form Wizard Form-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" hidden="true" id="row_wizard_bureau">
                                <div class="kt-portlet">
                                    <div class="kt-portlet__body kt-portlet__body--fit">
                                        <div class="kt-grid kt-wizard-v3 kt-wizard-v3--white"
                                             data-ktwizard-state="first"
                                             id="wizard_bureau">
                                            <div id="conf_dataintegration_bureau">
                                                <div class="kt-grid__item">

                                                    <!--begin: Form Wizard Nav -->
                                                    <div class="kt-wizard-v3__nav">
                                                        <div class="kt-wizard-v3__nav-items">
                                                            <span class="kt-wizard-v3__nav-item"
                                                                  data-ktwizard-state="current"
                                                                  data-ktwizard-type="step"
                                                                  href="#"
                                                                  style="flex: 0 0 50%;">
                                                                <div class="kt-wizard-v3__nav-body">
                                                                    <div class="kt-wizard-v3__nav-label">
                                                                        <span>1</span>  Variables para indicadores
                                                                    </div>
                                                                    <div class="kt-wizard-v3__nav-bar"></div>
                                                                </div>
                                                            </span>
                                                            <span class="kt-wizard-v3__nav-item"
                                                                  data-ktwizard-state="pending"
                                                                  data-ktwizard-type="step"
                                                                  href="#"
                                                                  style="flex: 0 0 50%;">
                                                                <div class="kt-wizard-v3__nav-body">
                                                                    <div class="kt-wizard-v3__nav-label">
                                                                        <span>2</span> Resumen y guardar
                                                                    </div>
                                                                    <div class="kt-wizard-v3__nav-bar"></div>
                                                                </div>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <!--end: Form Wizard Nav -->
                                                </div>
                                                <div class="kt-grid__item kt-grid__item--fluid kt-wizard-v3__wrapper">

                                                    <!--begin: Form Wizard Form-->
                                                    <form class="kt-form" id="kt_form_bureau" novalidate="novalidate">
                                                        <!--begin: Form Wizard Step 2-->
                                                        <div class="kt-wizard-v3__content"
                                                             data-ktwizard-state="current"
                                                             data-ktwizard-type="step-content">
                                                            <div class="kt-heading kt-heading--md">Listado de variables
                                                                de servicio bureau:
                                                            </div>
                                                            <div class="kt-form__section kt-form__section--first">
                                                                <div class="kt-wizard-v3__form">
                                                                    <div class="row">
                                                                        <div class="form-group">
                                                                            <label>Seleccione las variables a ocupar en
                                                                                los indicadores Risk Score, Risk Ratios
                                                                                y Business Tree</label>
                                                                            <div class="kt-checkbox-list"
                                                                                 style="margin-top: 10px;margin-left: 20px;"
                                                                                 th:each="variable : ${variables}">
                                                                                <label class="kt-checkbox kt-checkbox--bold kt-checkbox--brand">
                                                                                    <input
                                                                                            th:text="${variable.name}"
                                                                                            th:value="${variable.idVariable}"
                                                                                            type="checkbox"><span></span></label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!--end: Form Wizard Step 2-->

                                                        <!--begin: Form Wizard Step 3-->
                                                        <div class="kt-wizard-v3__content"
                                                             data-ktwizard-type="step-content">
                                                            <div class="kt-heading kt-heading--md">Resumen de los
                                                                detalles y
                                                                guardar
                                                            </div>
                                                            <div class="kt-form__section kt-form__section--first">
                                                                <div class="kt-wizard-v3__review">
                                                                    <div class="kt-wizard-v3__review-item">
                                                                        <div class="kt-wizard-v3__review-title">
                                                                            Detalles de las variables seleccionadas
                                                                        </div>
                                                                        <div class="kt-wizard-v3__review-content">
                                                                            <div class="form-group row">
                                                                                <div class="col-12">
                                                                                    <label>Variables
                                                                                        del bureau:</label>
                                                                                </div>
                                                                                <div class="col-12">
                                                                                    <div class="form-group row"
                                                                                         th:each="variable : ${variables}"
                                                                                         hidden
                                                                                         th:id="'group_details_variable_' + ${variable.idVariable}">
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label">Nombre:</label>
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label"><strong
                                                                                                th:text="${variable.name}"></strong></label>
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label">Tipo:</label>
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label"><strong
                                                                                                th:text="${variable.typeVariable.name}"></strong></label>
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label">Código
                                                                                            variable:</label>
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label"><strong
                                                                                                th:text="${variable.code}"></strong></label>
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label">Valor
                                                                                            por defecto:</label>
                                                                                        <label class="col-xl-3 col-lg-3 col-form-label"><strong
                                                                                                th:text="${variable.defaultValue}"></strong></label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!--end: Form Wizard Step 3-->

                                                        <!--begin: Form Actions -->
                                                        <div class="kt-form__actions">
                                                            <div class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u back-dataintegration">
                                                                Atrás
                                                            </div>
                                                            <div class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                                                                 data-ktwizard-type="action-prev">
                                                                Atrás
                                                            </div>
                                                            <div class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                                                                 data-ktwizard-type="action-submit">
                                                                Guardar
                                                            </div>
                                                            <div class="btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                                                                 data-ktwizard-type="action-next">
                                                                Siguiente
                                                            </div>
                                                        </div>

                                                        <!--end: Form Actions -->
                                                    </form>

                                                    <!--end: Form Wizard Form-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--End::  Content-->
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>

<div th:replace="common :: footer"></div>

<!--/*/ <th:block th:include="common :: scripts"></th:block> /*/-->


<script th:src="@{/js/custom/dataintegration-setting.js}" type="text/javascript"></script>
<script th:src="@{/js/form-repeater/form-repeater.js}" type="text/javascript"></script>


</body>
</html>